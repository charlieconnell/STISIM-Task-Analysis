
``` {r}
library(tidyverse)
library(ggridges)


## Locating the file of saccade data names "Prosaccade_saccades.csv" and the task response results names Results_var.csv

working_file_saccade <- "G:\\Team Drives\\Research Team\\Projects\\2018 Driving Sim Reproducibility\\4_Analysis_Saccades\\HB\\Session 1\\HB_C_1_31082018_Prosaccade_saccades.csv"

working_file_saccade

saccade_csv_filename <- working_file_saccade
    
##saccade_csv_filename <- choose.files(default = "G:\\Team Drives\\Research Team\\Projects\\2018 Driving Sim Reproducibility\\4_Analysis_Saccades\\ER", 
                                  #   filters = "saccades.csv", multi = FALSE)

taskresponse_csv_filename <- str_replace(saccade_csv_filename, 
                                          pattern = "saccades", 
                                          replacement = "Results_var")


saccade_results <- read_csv(saccade_csv_filename) %>% select(-22)

taskresponse_colnames <- c("trial number", "tTRIG", "tTIME", "tCorr", 
                            "Corr_tTIME", "rKey", "rSecs","rTIME", 
                            "rCorr", "Corr_rTIME", "rDir", "Condition" )

taskresponse_results <- read_csv(taskresponse_csv_filename, col_names = taskresponse_colnames)


combined_results <- saccade_results %>% left_join(taskresponse_results, by = "trial number")
combined_results$response_type <- ifelse(combined_results$rDir == combined_results$rKey,"Correct",
                        ifelse((combined_results$rKey == 0), "Miss",
                        ifelse((combined_results$rKey > 0) & (combined_results$rKey != combined_results$rDir),"Incorrect", NA)))
combined_results$task_condition <- combined_results$rDir * combined_results$Condition
combined_results$task_arrow_dir <- ifelse(combined_results$rDir == 1, "Left", "Right")
combined_results$stimulus_left_right <- ifelse(combined_results$condition <= 6, "Left", "Right")
combined_results$reaction_time <- combined_results$Corr_rTIME - combined_results$Corr_tTIME
combined_results$congruency <- ifelse(combined_results$task_arrow_dir == combined_results$stimulus_left_right, "Congruent", "Incongruent")

```


```{r}
## Defining the conditions for each saccade, there are 24 conditions, 12 left and 12 right arrows, 12 up or down (7 degrees) and then each degree (10,25,35 degrees) left or right. Each posible combination occurs 5 times. 





## Creating reaction time variable and correct response varibale



    


```

